(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{132:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",function(){return k});var a=n(16),r=n(0),o=n.n(r),c=n(5744),i=n(7),s=n(5757),l=n.n(s),u=n(5758),d=n.n(u),p=n(5759),y=n.n(p),f=n(5760),m=n.n(f),h=n(36),b=n(17),g=n(233),v=n(226);function k(){var t=Object(i.useWeb3Context)(),n=Object(b.useNamedContract)("oldClientRaindrop"),s=Object(b.useNamedContract)("clientRaindrop"),u=Object(r.useState)(""),p=Object(a.a)(u,2),f=p[0],k=p[1];var E=Object(b.useDebounce)(f,500),C=Object(r.useState)(void 0),O=Object(a.a)(C,2),w=O[0],j=O[1];function T(){s.methods.hydroIDAvailable(E).call().then(function(e){return j(e?null:"Name is already reserved.")})}Object(i.useAccountEffect)(function(){""!==E?e.from(E).length>2?e.from(E).length<33?n.methods.getUserByName(E).call().then(function(e){e.userAddress!==t.account?j("Name is already reserved."):T()}).catch(function(){T()}):j("Too long."):j("Too short."):j(void 0)},[E]);var x=Object(r.useState)(""),R=Object(a.a)(x,2),S=R[0],P=R[1],N=Object(r.useState)(0),I=Object(a.a)(N,2),H=I[0],D=I[1],_=Object(b.useNamedContract)("snowflake"),q=Object(b.useNamedContract)("1484")._address;function B(){D(H-1)}function z(){D(H+1)}var A=Object(r.useRef)(Math.round(new Date/1e3)-120),K=t.library.utils.soliditySha3("0x19","0x00",q,"I authorize the creation of an Identity on my behalf.",t.account,t.account,{t:"address[]",v:[_._address]},{t:"address[]",v:[]},A.current);return o.a.createElement("div",null,o.a.createElement(c.y,{variant:"h3",gutterBottom:!0,color:"textPrimary"},"Follow the steps below to claim your Snowflake Identity, powered by"," ",o.a.createElement(c.y,{style:{display:"inline-block",textDecoration:"none"},color:"primary",variant:"h3",component:"a",href:"https://erc1484.org/",target:"_blank"},"ERC-1484"),"!"),o.a.createElement(l.a,{activeStep:H,orientation:"vertical"},o.a.createElement(d.a,{key:0},o.a.createElement(y.a,null,0===H?"Pick a Hydro ID":"Hydro ID: ".concat(f)),o.a.createElement(m.a,null,"Before claiming your identity, you need to pick a Hydro ID. This is a public, on-chain identifier that will be linked to and identify your account.",o.a.createElement(c.w,{key:"Hydro ID",label:"Hydro ID",helperText:w||"This is a public identifier.",error:!!w,required:!0,margin:"normal",value:f,onChange:function(e){return t=e.target.value,j(void 0),void k(t);var t},fullWidth:!0}),o.a.createElement(c.a,{variant:"contained",disabled:""===f||null!==w,onClick:z},"Next"))),o.a.createElement(d.a,{key:1},o.a.createElement(y.a,null,"Give Permission"),o.a.createElement(m.a,null,"The next step is for you to give us permission to create your account. This requires your signature of a hashed permission string.",o.a.createElement("br",null),o.a.createElement(c.a,{variant:"contained",style:{marginRight:"15px"},onClick:B},"Back"),o.a.createElement(g.default,{readyText:"Sign",message:K,onSuccess:function(e){P(e),z()}}))),o.a.createElement(d.a,{key:2},o.a.createElement(y.a,null,"Claim your Identity"),o.a.createElement(m.a,null,"Click below to claim your new on-chain identity!",o.a.createElement("br",null),o.a.createElement(c.a,{variant:"contained",style:{marginRight:"15px"},onClick:B},"Back"),o.a.createElement(v.default,{readyText:"Send",method:function(){return _.methods.createIdentityDelegated(S.from,S.from,[],f,S.v,S.r,S.s,A.current)},onConfirmation:t.forceAccountReRender})))),o.a.createElement(c.a,{component:h.a,to:"/claim-address"},"Linking your address to an existing Identity?"))}}.call(this,n(5).Buffer)},226:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(0),o=n.n(r),c=n(5744),i=n(5745),s=n.n(i),l=n(26),u=n(7),d=n(97),p=Object(l.withTheme)()(function(e){var t=e.theme;return o.a.createElement(s.a,{size:t.typography.button.fontSize})});function y(e){var t=e.show,n=e.method,r=e.readyText,i=e.classes,s=e.onTransactionHash,l=e.onConfirmation,y=e.transactionOptions,f=Object(u.useWeb3Context)(),m=Object(u.useTransactionManager)(n,{handlers:{transactionHash:s,receipt:l},transactionOptions:y}),h=Object(a.a)(m,4),b=h[0],g=h[1],v=h[2],k=h[3];switch(b){case"ready":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:v,className:i.ready},r);case"sending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",disabled:!0,className:i.sendingPending},o.a.createElement(p,null));case"pending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:i.sendingPending,component:"a",href:Object(d.getEtherscanLink)(f.networkId,"transaction",g.transactionHash),target:"_blank"},o.a.createElement("span",null,"Pending Confirmation ",o.a.createElement(p,null)));case"success":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:i.success,component:"a",href:Object(d.getEtherscanLink)(f.networkId,"transaction",g.transactionHash),target:"_blank"},o.a.createElement("span",null,"Success!"));case"error":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:k,className:i.error},o.a.createElement("span",null,"Error. Retry?"));default:throw Error("This should not happen\u2122.")}}y.defaultProps={show:!0,onTransactionHash:function(){},onConfirmation:function(){}},t.default=Object(l.withStyles)(function(e){return{ready:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},sendingPending:{backgroundColor:e.palette.grey[300],color:e.palette.getContrastText(e.palette.grey[300]),"&:hover":{backgroundColor:e.palette.grey[500]}},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}},success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,"&:hover":{backgroundColor:e.palette.success.dark}}}})(y)},233:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(0),o=n.n(r),c=n(5744),i=n(5745),s=n.n(i),l=n(26),u=n(7),d=Object(l.withTheme)()(function(e){var t=e.theme;return o.a.createElement(s.a,{size:t.typography.button.fontSize})});function p(e){var t=e.show,n=e.message,r=e.readyText,i=e.classes,s=e.onSuccess,l=Object(u.useSignPersonalManager)(n,{handlers:{success:s}}),p=Object(a.a)(l,4),y=p[0],f=(p[1],p[2]),m=p[3];switch(y){case"ready":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:f,className:i.ready},r);case"pending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",disabled:!0,className:i.sendingPending},o.a.createElement(d,null));case"success":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:i.success},o.a.createElement("span",null,"Success!"));case"error":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:m,className:i.error},o.a.createElement("span",null,"Error. Retry?"));default:throw Error("This should not happen\u2122.")}}p.defaultProps={show:!0,onSuccess:function(){}},t.default=Object(l.withStyles)(function(e){return{ready:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},sendingPending:{backgroundColor:e.palette.grey[300],color:e.palette.getContrastText(e.palette.grey[300]),"&:hover":{backgroundColor:e.palette.grey[500]}},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}},success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,"&:hover":{backgroundColor:e.palette.success.dark}}}})(p)},36:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),c=n.n(o),i=n(19),s=n.n(i),l=n(54),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=a=d(this,e.call.apply(e,[this].concat(o))),a.handleClick=function(e){if(a.props.onClick&&a.props.onClick(e),!e.defaultPrevented&&0===e.button&&!a.props.target&&!p(e)){e.preventDefault();var t=a.context.router.history,n=a.props,r=n.replace,o=n.to;r?t.replace(o):t.push(o)}},d(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,c="string"===typeof t?Object(l.b)(t,null,null,o.location):t,i=o.createHref(c);return r.a.createElement("a",u({},a,{onClick:this.handleClick,href:i,ref:n}))},t}(r.a.Component);y.propTypes={onClick:c.a.func,target:c.a.string,replace:c.a.bool,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired,innerRef:c.a.oneOfType([c.a.string,c.a.func])},y.defaultProps={replace:!1},y.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired,createHref:c.a.func.isRequired}).isRequired}).isRequired},t.a=y}}]);
//# sourceMappingURL=8.5a3b2b68.chunk.js.map