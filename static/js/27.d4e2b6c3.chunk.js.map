{"version":3,"sources":["../node_modules/react-router-dom/es/Link.js","components/NoEIN.js","components/common/TransactionButton.js","components/common/SignatureButton.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","invariant__WEBPACK_IMPORTED_MODULE_2__","invariant__WEBPACK_IMPORTED_MODULE_2___default","history__WEBPACK_IMPORTED_MODULE_3__","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_possibleConstructorReturn","self","ReferenceError","isModifiedEvent","event","metaKey","altKey","ctrlKey","shiftKey","Link","_React$Component","_temp","_this","instance","Constructor","TypeError","_classCallCheck","this","_len","args","Array","_key","apply","concat","handleClick","props","onClick","defaultPrevented","button","preventDefault","history","context","router","_this$props","replace","to","push","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","innerRef","obj","keys","indexOf","_objectWithoutProperties","undefined","location","href","createHref","a","createElement","ref","Component","propTypes","func","string","bool","oneOfType","object","isRequired","defaultProps","contextTypes","shape","__webpack_exports__","NoEIN","useWeb3Context","oldClientRaindropContract","useNamedContract","clientRaindropContract","_useState","useState","_useState2","_MAMPWeb_HydroIce_HydroIceDapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","hydroId","setHydroId","debouncedHydroId","useDebounce","_useState3","_useState4","hydroIdError","setHydroIdError","validateNewClientRaindrop","methods","hydroIDAvailable","then","result","useAccountEffect","Buffer","from","getUserByName","userAddress","account","catch","_useState5","_useState6","signature","setSignature","_useState7","_useState8","activeStep","setActiveStep","snowflakeContract","_1484Address","_address","stepBack","stepForward","timestamp","useRef","Math","round","Date","message","library","utils","soliditySha3","t","v","current","react__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","variant","gutterBottom","color","style","display","textDecoration","component","_material_ui_core_Stepper__WEBPACK_IMPORTED_MODULE_4___default","orientation","_material_ui_core_Step__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_core_StepLabel__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_core_StepContent__WEBPACK_IMPORTED_MODULE_7___default","label","helperText","error","required","margin","onChange","e","fullWidth","disabled","marginRight","_common_SignatureButton__WEBPACK_IMPORTED_MODULE_10__","readyText","onSuccess","_common_TransactionButton__WEBPACK_IMPORTED_MODULE_11__","method","createIdentityDelegated","r","s","onConfirmation","forceAccountReRender","ProgressIcon","withTheme","_ref","theme","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_3___default","size","typography","fontSize","TransactionButton","_ref2","show","classes","onTransactionHash","transactionOptions","_useTransactionManage","useTransactionManager","handlers","transactionHash","receipt","_useTransactionManage2","transactionState","transactionData","sendTransaction","resetTransaction","className","ready","sendingPending","getEtherscanLink","networkId","success","Error","withStyles","backgroundColor","palette","primary","main","contrastText","&:hover","dark","grey","getContrastText","SignatureButton","_useSignPersonalManag","useSignPersonalManager","_useSignPersonalManag2","signatureState","signPersonal","resetSignature"],"mappings":"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","file":"static/js/27.d4e2b6c3.chunk.js","sourcesContent":["var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport { createLocation } from \"history\";\n\nvar isModifiedEvent = function isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n};\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = function (_React$Component) {\n  _inherits(Link, _React$Component);\n\n  function Link() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Link);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (_this.props.onClick) _this.props.onClick(event);\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !_this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          var history = _this.context.router.history;\n          var _this$props = _this.props,\n              replace = _this$props.replace,\n              to = _this$props.to;\n\n          if (replace) {\n            history.replace(to);\n          } else {\n            history.push(to);\n          }\n        }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Link.prototype.render = function render() {\n    var _props = this.props,\n        replace = _props.replace,\n        to = _props.to,\n        innerRef = _props.innerRef,\n        props = _objectWithoutProperties(_props, [\"replace\", \"to\", \"innerRef\"]); // eslint-disable-line no-unused-vars\n\n\n    invariant(this.context.router, \"You should not use <Link> outside a <Router>\");\n    invariant(to !== undefined, 'You must specify the \"to\" property');\n    var history = this.context.router.history;\n    var location = typeof to === \"string\" ? createLocation(to, null, null, history.location) : to;\n    var href = history.createHref(location);\n    return React.createElement(\"a\", _extends({}, props, {\n      onClick: this.handleClick,\n      href: href,\n      ref: innerRef\n    }));\n  };\n\n  return Link;\n}(React.Component);\n\nLink.propTypes = {\n  onClick: PropTypes.func,\n  target: PropTypes.string,\n  replace: PropTypes.bool,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  innerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n};\nLink.defaultProps = {\n  replace: false\n};\nLink.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n      createHref: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default Link;","import React, { useState, useRef } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { useWeb3Context, useAccountEffect } from 'web3-react/hooks'\nimport { Button } from '@material-ui/core';\nimport { TextField } from '@material-ui/core';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport { Link } from 'react-router-dom'\n\nimport { useNamedContract, useDebounce } from '../common/hooks'\nimport SignatureButton from './common/SignatureButton'\nimport TransactionButton from './common/TransactionButton'\n\nexport default function NoEIN () {\n  const context = useWeb3Context()\n\n  const oldClientRaindropContract = useNamedContract('oldClientRaindrop')\n  const clientRaindropContract = useNamedContract('clientRaindrop')\n\n  const [hydroId, setHydroId] = useState('')\n  function wrappedSetHydroId (hydroId) {\n    setHydroIdError(undefined)\n    setHydroId(hydroId)\n  }\n  const debouncedHydroId = useDebounce(hydroId, 500)\n  const [hydroIdError, setHydroIdError] = useState(undefined)\n\n  function validateNewClientRaindrop() {\n    clientRaindropContract.methods.hydroIDAvailable(debouncedHydroId).call()\n      .then(result => result ? setHydroIdError(null) : setHydroIdError('Name is already reserved.'))\n  }\n\n  useAccountEffect(() => {\n    if (debouncedHydroId === '') {\n      setHydroIdError(undefined)\n      return\n    }\n    else {\n      if (!(Buffer.from(debouncedHydroId).length > 2)) {\n        setHydroIdError('Too short.')\n        return\n      }\n\n      if (!(Buffer.from(debouncedHydroId).length < 33)) {\n        setHydroIdError('Too long.')\n        return\n      }\n\n      oldClientRaindropContract.methods.getUserByName(debouncedHydroId).call()\n        .then(result => {\n          if (result.userAddress !== context.account) setHydroIdError('Name is already reserved.')\n          else validateNewClientRaindrop()\n        })\n        .catch(() => {\n          validateNewClientRaindrop() // errors just mean that the function threw i.e. the name is untaken in old CR\n        })\n    }\n  }, [debouncedHydroId])\n\n  const [signature, setSignature] = useState('')\n  const [activeStep, setActiveStep] = useState(0)\n  const snowflakeContract = useNamedContract('snowflake')\n  const _1484Address = useNamedContract('1484')._address\n\n  function stepBack () { setActiveStep(activeStep - 1) }\n  function stepForward () { setActiveStep(activeStep + 1) }\n\n  const timestamp = useRef(Math.round(new Date() / 1000) - 120)\n  const message = context.library.utils.soliditySha3(\n    '0x19', '0x00', _1484Address,\n    'I authorize the creation of an Identity on my behalf.',\n    context.account,\n    context.account,\n    { t: 'address[]', v: [snowflakeContract._address] },\n    { t: 'address[]', v: [] },\n    timestamp.current\n  )\n\n  return (\n    <div>\n      <Typography variant=\"h3\" gutterBottom color=\"textPrimary\">\n        Follow the steps below to claim your Snowflake Identity, powered by{' '}\n        <Typography\n          style={{display: 'inline-block', textDecoration: 'none'}}\n          color='primary'\n          variant='h3'\n          component=\"a\"\n          href=\"https://erc1484.org/\"\n          target=\"_blank\"\n        >\n          ERC-1484\n        </Typography>\n        !\n      </Typography>\n\n      <Stepper activeStep={activeStep} orientation=\"vertical\">\n        <Step key={0}>\n          <StepLabel>{activeStep === 0 ? 'Pick a Hydro ID' : `Hydro ID: ${hydroId}`}</StepLabel>\n          <StepContent>\n            Before claiming your identity, you need to pick a Hydro ID. This is a public, on-chain identifier that will be linked to and identify your account.\n            <TextField\n              key='Hydro ID'\n              label='Hydro ID'\n              helperText={!hydroIdError ? 'This is a public identifier.' : hydroIdError}\n              error={!!hydroIdError}\n              required\n              margin=\"normal\"\n              value={hydroId}\n              onChange={e => wrappedSetHydroId(e.target.value)}\n              fullWidth\n            />\n            <Button\n              variant=\"contained\"\n              disabled={hydroId === '' || hydroIdError !== null}\n              onClick={stepForward}\n            >\n              Next\n            </Button>\n          </StepContent>\n        </Step>\n\n        <Step key={1}>\n          <StepLabel>Give Permission</StepLabel>\n          <StepContent>\n            The next step is for you to give us permission to create your account. This requires your signature of a hashed permission string.\n            <br />\n            <Button\n              variant=\"contained\"\n              style={{marginRight: '15px'}}\n              onClick={stepBack}\n            >\n              Back\n            </Button>\n            <SignatureButton\n              readyText='Sign'\n              message={message}\n              onSuccess={signature => {\n                setSignature(signature)\n                stepForward()\n              }}\n            />\n          </StepContent>\n        </Step>\n\n        <Step key={2}>\n          <StepLabel>Claim your Identity</StepLabel>\n          <StepContent>\n            Click below to claim your new on-chain identity!\n            <br />\n            <Button\n              variant=\"contained\"\n              style={{marginRight: '15px'}}\n              onClick={stepBack}\n            >\n              Back\n            </Button>\n            <TransactionButton\n              readyText='Send'\n              method={() => snowflakeContract.methods.createIdentityDelegated(\n                signature.from, signature.from, [], hydroId, signature.v, signature.r, signature.s, timestamp.current\n              )}\n              onConfirmation={context.forceAccountReRender}\n            />\n          </StepContent>\n        </Step>\n      </Stepper>\n\n      <Button component={Link} to=\"/claim-address\">Linking your address to an existing Identity?</Button>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { withTheme, withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport { useWeb3Context, useTransactionManager } from \"web3-react/hooks\";\nimport { getEtherscanLink } from \"web3-react/utilities\";\n\nconst styles = theme => ({\n  ready: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.dark\n    }\n  },\n  sendingPending: {\n    backgroundColor: theme.palette.grey[300],\n    color: theme.palette.getContrastText(theme.palette.grey[300]),\n    \"&:hover\": {\n      backgroundColor: theme.palette.grey[500]\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.error.main,\n    color: theme.palette.error.contrastText,\n    \"&:hover\": {\n      backgroundColor: theme.palette.error.dark\n    }\n  },\n  success: {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.success.contrastText,\n    \"&:hover\": {\n      backgroundColor: theme.palette.success.dark\n    }\n  }\n});\n\nconst ProgressIcon = withTheme()(({ theme }) => (\n  <CircularProgress size={theme.typography.button.fontSize} />\n));\n\nfunction TransactionButton({\n  show,\n  method,\n  readyText,\n  classes,\n  onTransactionHash,\n  onConfirmation,\n  transactionOptions,\n  disabled\n}) {\n  const context = useWeb3Context();\n  const [\n    transactionState,\n    transactionData,\n    sendTransaction,\n    resetTransaction\n  ] = useTransactionManager(method, {\n    handlers: { transactionHash: onTransactionHash, receipt: onConfirmation },\n    transactionOptions: transactionOptions\n  });\n\n  switch (transactionState) {\n    case \"ready\":\n      return (\n        <Button\n          style={show ? undefined : { display: \"none\" }}\n          variant=\"contained\"\n          onClick={sendTransaction}\n          className={classes.ready}\n          disabled={disabled}\n        >\n          {readyText}\n        </Button>\n      );\n    case \"sending\":\n      return (\n        <Button\n          style={show ? undefined : { display: \"none\" }}\n          variant=\"contained\"\n          disabled={true}\n          className={classes.sendingPending}\n        >\n          <ProgressIcon />\n        </Button>\n      );\n    case \"pending\":\n      return (\n        <Button\n          style={show ? undefined : { display: \"none\" }}\n          variant=\"contained\"\n          className={classes.sendingPending}\n          component=\"a\"\n          href={getEtherscanLink(\n            context.networkId,\n            \"transaction\",\n            transactionData.transactionHash\n          )}\n          target=\"_blank\"\n        >\n          <span>\n            Pending Confirmation <ProgressIcon />\n          </span>\n        </Button>\n      );\n    case \"success\":\n      return (\n        <Button\n          style={show ? undefined : { display: \"none\" }}\n          variant=\"contained\"\n          className={classes.success}\n          component=\"a\"\n          href={getEtherscanLink(\n            context.networkId,\n            \"transaction\",\n            transactionData.transactionHash\n          )}\n          target=\"_blank\"\n        >\n          <span>Success!</span>\n        </Button>\n      );\n    case \"error\":\n      return (\n        <Button\n          style={show ? undefined : { display: \"none\" }}\n          variant=\"contained\"\n          onClick={resetTransaction}\n          className={classes.error}\n        >\n          <span>Error. Retry?</span>\n        </Button>\n      );\n    default:\n      throw Error(\"This should not happen™.\");\n  }\n}\n\nTransactionButton.propTypes = {\n  show: PropTypes.bool,\n  method: PropTypes.func.isRequired,\n  readyText: PropTypes.node.isRequired,\n  classes: PropTypes.object.isRequired,\n  onTransactionHash: PropTypes.func,\n  onConfirmation: PropTypes.func,\n  transactionOptions: PropTypes.object\n};\n\nTransactionButton.defaultProps = {\n  show: true,\n  onTransactionHash: () => {},\n  onConfirmation: () => {}\n};\n\nexport default withStyles(styles)(TransactionButton);\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { withTheme, withStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types';\nimport { useSignPersonalManager } from 'web3-react/hooks'\n\nconst styles = theme => ({\n  ready: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.primary.dark\n    }\n  },\n  sendingPending: {\n    backgroundColor: theme.palette.grey[300],\n    color: theme.palette.getContrastText(theme.palette.grey[300]),\n    '&:hover': {\n      backgroundColor: theme.palette.grey[500]\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.error.main,\n    color: theme.palette.error.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.error.dark\n    }\n  },\n  success: {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.success.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.success.dark\n    }\n  }\n})\n\nconst ProgressIcon = withTheme()(({ theme }) => <CircularProgress size={theme.typography.button.fontSize} />)\n\nfunction SignatureButton ({ show, message, readyText, classes, onSuccess }) {\n  // eslint-disable-next-line no-unused-vars\n  const [signatureState, _, signPersonal, resetSignature] = useSignPersonalManager(\n    message, { handlers: { success: onSuccess } }\n  )\n\n  switch (signatureState) {\n    case 'ready':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          onClick={signPersonal}\n          className={classes.ready}\n        >\n          {readyText}\n        </Button>\n      )\n    case 'pending':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          disabled={true}\n          className={classes.sendingPending}\n        >\n          <ProgressIcon />\n        </Button>\n      )\n    case 'success':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          className={classes.success}\n        >\n          <span>Success!</span>\n        </Button>\n      )\n    case 'error':\n      return (\n        <Button\n          style={show ? undefined : {display: 'none'}}\n          variant=\"contained\"\n          onClick={resetSignature}\n          className={classes.error}\n        >\n          <span>Error. Retry?</span>\n        </Button>\n      )\n    default:\n      throw Error('This should not happen™.')\n  }\n}\n\nSignatureButton.propTypes = {\n  show:              PropTypes.bool,\n  message:           PropTypes.string.isRequired,\n  readyText:         PropTypes.node.isRequired,\n  classes:           PropTypes.object.isRequired,\n  onSuccess:         PropTypes.func\n}\n\nSignatureButton.defaultProps = {\n  show:              true,\n  onSuccess: () => {},\n}\n\nexport default withStyles(styles)(SignatureButton)\n"],"sourceRoot":""}