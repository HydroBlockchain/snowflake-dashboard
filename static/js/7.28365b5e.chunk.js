(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{123:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return k});var n=a(21),r=a(0),o=a.n(r),c=a(5765),l=a(7),s=a(5811),i=a.n(s),d=a(5813),u=a.n(d),m=a(5814),y=a.n(m),p=a(5816),h=a.n(p),g=a(18),b=a(248),v=a(227);function k(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),a=t[0],s=t[1],d=Object(r.useState)(""),m=Object(n.a)(d,2),p=m[0],k=m[1],E=Object(r.useState)(0),f=Object(n.a)(E,2),C=f[0],w=f[1],j=Object(l.useWeb3Context)(),x=Object(g.useNamedContract)("snowflake"),O=Object(g.useNamedContract)("1484")._address;function T(){w(C-1)}function S(){w(C+1)}var I=Object(r.useRef)(Math.round(new Date/1e3)-120),N=j.web3js.utils.soliditySha3("0x19","0x00",O,"I authorize the creation of an Identity on my behalf.",j.account,j.account,{t:"address[]",v:[x._address]},{t:"address[]",v:[]},I.current);return o.a.createElement("div",null,o.a.createElement(c.y,{variant:"h3",gutterBottom:!0,color:"textPrimary"},"Follow the steps below to claim your Snowflake Identity, powered by"," ",o.a.createElement(c.y,{style:{display:"inline-block",textDecoration:"none"},color:"primary",variant:"h3",component:"a",href:"https://erc1484.org/",target:"_blank"},"ERC-1484"),"!"),o.a.createElement(i.a,{activeStep:C,orientation:"vertical"},o.a.createElement(u.a,{key:0},o.a.createElement(y.a,null,0===C?"Pick a Hydro ID":"Hydro ID: ".concat(a)),o.a.createElement(h.a,null,o.a.createElement(c.w,{key:"Hydro ID",label:"Hydro ID",helperText:"This is a public identifier.",margin:"normal",value:a,onChange:function(e){return s(e.target.value)},fullWidth:!0}),o.a.createElement(c.a,{variant:"contained",onClick:S},"Next"))),o.a.createElement(u.a,{key:1},o.a.createElement(y.a,null,"Give permission"),o.a.createElement(h.a,null,o.a.createElement(c.a,{variant:"contained",onClick:T},"Back"),o.a.createElement("br",null),o.a.createElement(b.default,{readyText:"Sign",message:N,onSuccess:function(e){k(e),S()}}))),o.a.createElement(u.a,{key:2},o.a.createElement(y.a,null,"Claim your Identity"),o.a.createElement(h.a,null,o.a.createElement(c.a,{variant:"contained",onClick:T},"Back"),o.a.createElement("br",null),o.a.createElement(v.default,{readyText:"Send",method:function(){return x.methods.createIdentityDelegated(p.from,p.from,[],a,p.v,p.r,p.s,I.current)},onConfirmation:j.reRenderers.forceAccountReRender})))),o.a.createElement(c.y,{variant:"body2",gutterBottom:!0,color:"textPrimary"},"Already have an Identity and just want to use it with your current address? Linking is coming soon!"))}},227:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(0),o=a.n(r),c=a(5765),l=a(5766),s=a.n(l),i=a(30),d=a(7),u=a(93),m=Object(i.withTheme)()(function(e){var t=e.theme;return o.a.createElement(s.a,{size:t.typography.button.fontSize})});function y(e){var t=e.show,a=e.method,r=e.readyText,l=e.classes,s=e.onTransactionHash,i=e.onConfirmation,y=Object(d.useWeb3Context)(),p=Object(d.useTransactionManager)(a,{handlers:{transactionHash:s,receipt:i}}),h=Object(n.a)(p,4),g=h[0],b=h[1],v=h[2],k=h[3];switch(g){case"ready":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:v,className:l.ready},r);case"sending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",disabled:!0,className:l.sendingPending},o.a.createElement(m,null));case"pending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:l.sendingPending,component:"a",href:Object(u.getEtherscanLink)(y.networkId,"transaction",b.transactionHash),target:"_blank"},o.a.createElement("span",null,"Pending Confirmation ",o.a.createElement(m,null)));case"success":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:l.success,component:"a",href:Object(u.getEtherscanLink)(y.networkId,"transaction",b.transactionHash),target:"_blank"},o.a.createElement("span",null,"Success!"));case"error":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:k,className:l.error},o.a.createElement("span",null,"Error. Retry?"));default:throw Error("This should not happen\u2122.")}}y.defaultProps={show:!0,onTransactionHash:function(){},onConfirmation:function(){}},t.default=Object(i.withStyles)(function(e){return{ready:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},sendingPending:{backgroundColor:e.palette.grey[300],color:e.palette.getContrastText(e.palette.grey[300]),"&:hover":{backgroundColor:e.palette.grey[500]}},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}},success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,"&:hover":{backgroundColor:e.palette.success.dark}}}})(y)},248:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(0),o=a.n(r),c=a(5765),l=a(5766),s=a.n(l),i=a(30),d=a(7),u=Object(i.withTheme)()(function(e){var t=e.theme;return o.a.createElement(s.a,{size:t.typography.button.fontSize})});function m(e){var t=e.show,a=e.message,r=e.readyText,l=e.classes,s=e.onSuccess,i=Object(d.useSignPersonalManager)(a,{handlers:{success:s}}),m=Object(n.a)(i,4),y=m[0],p=(m[1],m[2]),h=m[3];switch(y){case"ready":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:p,className:l.ready},r);case"pending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",disabled:!0,className:l.sendingPending},o.a.createElement(u,null));case"success":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:l.success},o.a.createElement("span",null,"Success!"));case"error":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:h,className:l.error},o.a.createElement("span",null,"Error. Retry?"));default:throw Error("This should not happen\u2122.")}}m.defaultProps={show:!0,onSuccess:function(){}},t.default=Object(i.withStyles)(function(e){return{ready:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},sendingPending:{backgroundColor:e.palette.grey[300],color:e.palette.getContrastText(e.palette.grey[300]),"&:hover":{backgroundColor:e.palette.grey[500]}},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}},success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,"&:hover":{backgroundColor:e.palette.success.dark}}}})(m)}}]);
//# sourceMappingURL=7.28365b5e.chunk.js.map