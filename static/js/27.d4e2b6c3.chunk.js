(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{168:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),c=a.n(o),i=a(23),s=a.n(i),l=a(60),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},y=function(e){function t(){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return a=n=d(this,e.call.apply(e,[this].concat(o))),n.handleClick=function(e){if(n.props.onClick&&n.props.onClick(e),!e.defaultPrevented&&0===e.button&&!n.props.target&&!p(e)){e.preventDefault();var t=n.context.router.history,a=n.props,r=a.replace,o=a.to;r?t.replace(o):t.push(o)}},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,c="string"===typeof t?Object(l.b)(t,null,null,o.location):t,i=o.createHref(c);return r.a.createElement("a",u({},n,{onClick:this.handleClick,href:i,ref:a}))},t}(r.a.Component);y.propTypes={onClick:c.a.func,target:c.a.string,replace:c.a.bool,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired,innerRef:c.a.oneOfType([c.a.string,c.a.func])},y.defaultProps={replace:!1},y.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired,createHref:c.a.func.isRequired}).isRequired}).isRequired},t.a=y},177:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"default",function(){return k});var n=a(14),r=a(0),o=a.n(r),c=a(5872),i=a(9),s=a(5905),l=a.n(s),u=a(5906),d=a.n(u),p=a(5907),y=a.n(p),f=a(5908),m=a.n(f),h=a(168),b=a(21),g=a(304),v=a(286);function k(){var t=Object(i.useWeb3Context)(),a=Object(b.useNamedContract)("oldClientRaindrop"),s=Object(b.useNamedContract)("clientRaindrop"),u=Object(r.useState)(""),p=Object(n.a)(u,2),f=p[0],k=p[1];var E=Object(b.useDebounce)(f,500),C=Object(r.useState)(void 0),O=Object(n.a)(C,2),w=O[0],j=O[1];function T(){s.methods.hydroIDAvailable(E).call().then(function(e){return j(e?null:"Name is already reserved.")})}Object(i.useAccountEffect)(function(){""!==E?e.from(E).length>2?e.from(E).length<33?a.methods.getUserByName(E).call().then(function(e){e.userAddress!==t.account?j("Name is already reserved."):T()}).catch(function(){T()}):j("Too long."):j("Too short."):j(void 0)},[E]);var x=Object(r.useState)(""),R=Object(n.a)(x,2),S=R[0],P=R[1],N=Object(r.useState)(0),I=Object(n.a)(N,2),H=I[0],D=I[1],_=Object(b.useNamedContract)("snowflake"),q=Object(b.useNamedContract)("1484")._address;function z(){D(H-1)}function B(){D(H+1)}var A=Object(r.useRef)(Math.round(new Date/1e3)-120),K=t.library.utils.soliditySha3("0x19","0x00",q,"I authorize the creation of an Identity on my behalf.",t.account,t.account,{t:"address[]",v:[_._address]},{t:"address[]",v:[]},A.current);return o.a.createElement("div",null,o.a.createElement(c.z,{variant:"h3",gutterBottom:!0,color:"textPrimary"},"Follow the steps below to claim your Snowflake Identity, powered by"," ",o.a.createElement(c.z,{style:{display:"inline-block",textDecoration:"none"},color:"primary",variant:"h3",component:"a",href:"https://erc1484.org/",target:"_blank"},"ERC-1484"),"!"),o.a.createElement(l.a,{activeStep:H,orientation:"vertical"},o.a.createElement(d.a,{key:0},o.a.createElement(y.a,null,0===H?"Pick a Hydro ID":"Hydro ID: ".concat(f)),o.a.createElement(m.a,null,"Before claiming your identity, you need to pick a Hydro ID. This is a public, on-chain identifier that will be linked to and identify your account.",o.a.createElement(c.x,{key:"Hydro ID",label:"Hydro ID",helperText:w||"This is a public identifier.",error:!!w,required:!0,margin:"normal",value:f,onChange:function(e){return t=e.target.value,j(void 0),void k(t);var t},fullWidth:!0}),o.a.createElement(c.a,{variant:"contained",disabled:""===f||null!==w,onClick:B},"Next"))),o.a.createElement(d.a,{key:1},o.a.createElement(y.a,null,"Give Permission"),o.a.createElement(m.a,null,"The next step is for you to give us permission to create your account. This requires your signature of a hashed permission string.",o.a.createElement("br",null),o.a.createElement(c.a,{variant:"contained",style:{marginRight:"15px"},onClick:z},"Back"),o.a.createElement(g.default,{readyText:"Sign",message:K,onSuccess:function(e){P(e),B()}}))),o.a.createElement(d.a,{key:2},o.a.createElement(y.a,null,"Claim your Identity"),o.a.createElement(m.a,null,"Click below to claim your new on-chain identity!",o.a.createElement("br",null),o.a.createElement(c.a,{variant:"contained",style:{marginRight:"15px"},onClick:z},"Back"),o.a.createElement(v.default,{readyText:"Send",method:function(){return _.methods.createIdentityDelegated(S.from,S.from,[],f,S.v,S.r,S.s,A.current)},onConfirmation:t.forceAccountReRender})))),o.a.createElement(c.a,{component:h.a,to:"/claim-address"},"Linking your address to an existing Identity?"))}}.call(this,a(5).Buffer)},286:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(0),o=a.n(r),c=a(5872),i=a(5873),s=a.n(i),l=a(32),u=a(9),d=a(67),p=Object(l.withTheme)()(function(e){var t=e.theme;return o.a.createElement(s.a,{size:t.typography.button.fontSize})});function y(e){var t=e.show,a=e.method,r=e.readyText,i=e.classes,s=e.onTransactionHash,l=e.onConfirmation,y=e.transactionOptions,f=e.disabled,m=Object(u.useWeb3Context)(),h=Object(u.useTransactionManager)(a,{handlers:{transactionHash:s,receipt:l},transactionOptions:y}),b=Object(n.a)(h,4),g=b[0],v=b[1],k=b[2],E=b[3];switch(g){case"ready":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:k,className:i.ready,disabled:f},r);case"sending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",disabled:!0,className:i.sendingPending},o.a.createElement(p,null));case"pending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:i.sendingPending,component:"a",href:Object(d.getEtherscanLink)(m.networkId,"transaction",v.transactionHash),target:"_blank"},o.a.createElement("span",null,"Pending Confirmation ",o.a.createElement(p,null)));case"success":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:i.success,component:"a",href:Object(d.getEtherscanLink)(m.networkId,"transaction",v.transactionHash),target:"_blank"},o.a.createElement("span",null,"Success!"));case"error":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:E,className:i.error},o.a.createElement("span",null,"Error. Retry?"));default:throw Error("This should not happen\u2122.")}}y.defaultProps={show:!0,onTransactionHash:function(){},onConfirmation:function(){}},t.default=Object(l.withStyles)(function(e){return{ready:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},sendingPending:{backgroundColor:e.palette.grey[300],color:e.palette.getContrastText(e.palette.grey[300]),"&:hover":{backgroundColor:e.palette.grey[500]}},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}},success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,"&:hover":{backgroundColor:e.palette.success.dark}}}})(y)},304:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(0),o=a.n(r),c=a(5872),i=a(5873),s=a.n(i),l=a(32),u=a(9),d=Object(l.withTheme)()(function(e){var t=e.theme;return o.a.createElement(s.a,{size:t.typography.button.fontSize})});function p(e){var t=e.show,a=e.message,r=e.readyText,i=e.classes,s=e.onSuccess,l=Object(u.useSignPersonalManager)(a,{handlers:{success:s}}),p=Object(n.a)(l,4),y=p[0],f=(p[1],p[2]),m=p[3];switch(y){case"ready":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:f,className:i.ready},r);case"pending":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",disabled:!0,className:i.sendingPending},o.a.createElement(d,null));case"success":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",className:i.success},o.a.createElement("span",null,"Success!"));case"error":return o.a.createElement(c.a,{style:t?void 0:{display:"none"},variant:"contained",onClick:m,className:i.error},o.a.createElement("span",null,"Error. Retry?"));default:throw Error("This should not happen\u2122.")}}p.defaultProps={show:!0,onSuccess:function(){}},t.default=Object(l.withStyles)(function(e){return{ready:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},sendingPending:{backgroundColor:e.palette.grey[300],color:e.palette.getContrastText(e.palette.grey[300]),"&:hover":{backgroundColor:e.palette.grey[500]}},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}},success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,"&:hover":{backgroundColor:e.palette.success.dark}}}})(p)}}]);
//# sourceMappingURL=27.d4e2b6c3.chunk.js.map